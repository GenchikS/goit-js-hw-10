{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst elements = {\n    dataTimePicker: document.querySelector(\"#datatime-picker\"),\n    btn: document.querySelector(\"[data-start]\"),\n    days: document.querySelector(\"[data-days]\"),\n    hours: document.querySelector(\"[data-hours]\"),\n    minutes: document.querySelector(\"[data-minutes]\"),\n    seconds: document.querySelector(\"[data-seconds]\")}\n// console.log(\"Days\", elements.days);  //  перевірка доступу до ключів\n\nelements.btn.disabled = true;\n\nconst options = {\n  minDate: \"today\",\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] - options.defaultDate > 0) {\n        elements.btn.disabled = false;\n    }\n  },\n};\n\nconst fp = flatpickr(\"#datatime-picker\", options);\n\nelements.btn.addEventListener(\"click\", startTimer);\n\nfunction startTimer() {\n  // console.log(\"selectedDates[0]\", (fp.selectedDates[0]).getTime());  //  перевірка отримання обраної дати\n  // console.log(\"options.defaultDate\", Date.parse(options.defaultDate));  //  перевірка поточної дати дати\n  let counter = (fp.selectedDates[0]).getTime() - Date.parse(options.defaultDate);\n  // console.log(\"counter\", counter);  //  перевірка різниці часу\n  elements.btn.disabled = true;\n  elements.dataTimePicker.disabled = true;\n  counter = counter / 1000; // перетворення в секунди\n\n  const setIntervalUser = setInterval(() => {\n    const day = Math.floor(counter / 60 / 60 / 24);\n    const hour = Math.floor((counter / 60 / 60)%24);\n    const minutes = Math.floor((counter / 60)%60);\n    const seconds = Math.floor(counter%60);\n\n    if (0 < counter) {\n      counter -= 1;\n    } else if (counter === 0) {\n      clearInterval(setIntervalUser);\n      iziToast.show({\n        message: 'Відлік часу закінчено'\n      \n});\n  }  \n\n    elements.days.textContent = `${String((day.toFixed())).padStart(2, 0)}`;\n    elements.hours.textContent = `${String((hour.toFixed())).padStart(2, 0)}`;\n    elements.minutes.textContent = `${String((minutes.toFixed())).padStart(2, 0)}`;\n    elements.seconds.textContent = `${String((seconds.toFixed())).padStart(2, 0)}`;\n  }, 1000)\n}\n\n"],"names":["elements","options","selectedDates","fp","flatpickr","startTimer","counter","setIntervalUser","day","hour","minutes","seconds","iziToast"],"mappings":"+IASA,MAAMA,EAAW,CACb,eAAgB,SAAS,cAAc,kBAAkB,EACzD,IAAK,SAAS,cAAc,cAAc,EAC1C,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAAC,EAGrDA,EAAS,IAAI,SAAW,GAExB,MAAMC,EAAU,CACd,QAAS,QACT,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAID,EAAQ,YAAc,IACzCD,EAAS,IAAI,SAAW,GAE7B,CACH,EAEMG,EAAKC,EAAU,mBAAoBH,CAAO,EAEhDD,EAAS,IAAI,iBAAiB,QAASK,CAAU,EAEjD,SAASA,GAAa,CAGpB,IAAIC,EAAWH,EAAG,cAAc,CAAC,EAAG,QAAS,EAAG,KAAK,MAAMF,EAAQ,WAAW,EAE9ED,EAAS,IAAI,SAAW,GACxBA,EAAS,eAAe,SAAW,GACnCM,EAAUA,EAAU,IAEpB,MAAMC,EAAkB,YAAY,IAAM,CACxC,MAAMC,EAAM,KAAK,MAAMF,EAAU,GAAK,GAAK,EAAE,EACvCG,EAAO,KAAK,MAAOH,EAAU,GAAK,GAAI,EAAE,EACxCI,EAAU,KAAK,MAAOJ,EAAU,GAAI,EAAE,EACtCK,EAAU,KAAK,MAAML,EAAQ,EAAE,EAEjC,EAAIA,EACNA,GAAW,EACFA,IAAY,IACrB,cAAcC,CAAe,EAC7BK,EAAS,KAAK,CACZ,QAAS,uBAEjB,CAAC,GAGGZ,EAAS,KAAK,YAAc,GAAG,OAAQQ,EAAI,QAAS,CAAA,EAAG,SAAS,EAAG,CAAC,CAAC,GACrER,EAAS,MAAM,YAAc,GAAG,OAAQS,EAAK,QAAS,CAAA,EAAG,SAAS,EAAG,CAAC,CAAC,GACvET,EAAS,QAAQ,YAAc,GAAG,OAAQU,EAAQ,QAAS,CAAA,EAAG,SAAS,EAAG,CAAC,CAAC,GAC5EV,EAAS,QAAQ,YAAc,GAAG,OAAQW,EAAQ,QAAS,CAAA,EAAG,SAAS,EAAG,CAAC,CAAC,EAC7E,EAAE,GAAI,CACT"}